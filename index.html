<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Private sexy space</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background: #f5f5f5; padding-bottom: 80px; }
  header {
    background: #fff; padding: 16px;
    display: flex; justify-content: space-between;
    border-bottom: 1px solid #eee;
  }
  .tab-bar {
    display: flex; background: #fff;
    border-bottom: 1px solid #eee;
  }
  .tab {
    flex:1; text-align:center; padding:12px 0;
    font-weight:bold; cursor:pointer;
  }
  .tab.active { color: #ff6b9d; }
  .page { display: none; padding:10px; }
  .page.active { display: block; }

  .card {
    background:#fff; border-radius:12px; padding:16px;
    margin-bottom:10px;
  }

  /* å››å®«æ ¼ */
  .grid-4 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px; margin-top:10px;
  }
  .grid-4 img {
    width:100%; aspect-ratio:1;
    object-fit:cover; border-radius:8px;
  }

  /* æ”¶æ”¾åŒºåŸŸ */
  .fold-section {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
  }
  .fold-section.open {
    max-height: 500px;
  }

  .toggle-btn {
    margin-top:10px;
    text-align:center;
    color: #666;
    font-size:14px;
    cursor:pointer;
  }
</style>
</head>

<body>
<header>
  <div>Private sexy space</div>
  <div onclick="toggleDark()">ğŸŒ“</div>
</header>

<div class="tab-bar">
  <div class="tab active" onclick="tab(0)">åŠ¨æ€</div>
  <div class="tab" onclick="tab(1)">åšä¸»èµ„æ–™</div>
  <div class="tab" onclick="tab(2)">ç§ä¿¡</div>
</div>

<!-- åŠ¨æ€ -->
<div class="page active" id="p0">
  <div id="postList"></div>
</div>

<!-- èµ„æ–™ -->
<div class="page" id="p1">
  <div class="card">
    <div id="profileInfo"></div>

    <div class="toggle-btn" onclick="toggleShow()">Show (å±•å¼€/æ”¶èµ·)</div>
    <div class="fold-section" id="showArea">
      <div class="grid-4" id="photoWall"></div>
    </div>
  </div>
</div>

<!-- ç§ä¿¡ -->
<div class="page" id="p2">
  <div id="msgList" style="padding:16px"></div>
  <div style="position:fixed;bottom:0;left:0;width:100%;background:#fff;padding:10px;display:flex;gap:8px;">
    <input id="msgInput" style="flex:1;padding:10px;border-radius:20px;border:1px solid #eee;">
    <button onclick="sendMsg()" style="padding:0 16px;border-radius:20px;background:#ff6b9d;color:white;border:none;">å‘é€</button>
  </div>
</div>

<script>
// åˆ‡æ¢é¡µé¢
function tab(i) {
  document.querySelectorAll('.tab').forEach((t,j)=>t.classList.toggle('active',j==i));
  document.querySelectorAll('.page').forEach((p,j)=>p.classList.toggle('active',j==i));
}

// æ”¶æ”¾ Show åŒºåŸŸ
function toggleShow() {
  document.getElementById('showArea').classList.toggle('open');
}

// æš—é»‘æ¨¡å¼
function toggleDark() {
  document.body.style.background = document.body.style.background == '#121212' ? '#f5f5f5' : '#121212';
}

// ------------------------------
// æ•°æ®ï¼ˆå®Œå…¨ä¸å†²çªã€ä¸ä¹±ç ï¼‰
// ------------------------------
const user = JSON.parse(localStorage.getItem('user') || '{}');
const posts = JSON.parse(localStorage.getItem('posts') || '[]');
const messages = JSON.parse(localStorage.getItem('messages') || '[]');

// æ¸²æŸ“èµ„æ–™
const profile = document.getElementById('profileInfo');
profile.innerText = `æ˜µç§°ï¼š${user.name || 'æ— '}
èº«é«˜ï¼š${user.height || 'æ— '}
å¹´é¾„ï¼š${user.age || 'æ— '}
å°ºå¯¸ï¼š${user.size || 'æ— '}`;

// å››å®«æ ¼ç…§ç‰‡å¢™ï¼ˆåªæ¸²æŸ“çœŸå®å›¾ç‰‡ï¼Œä¸ä¹±ç ï¼‰
const wall = document.getElementById('photoWall');
const photos = user.photos || [];
for (let i=0; i<4; i++) {
  const img = document.createElement('img');
  img.src = photos[i] || 'https://picsum.photos/300?random='+i;
  wall.appendChild(img);
}

// æ¸²æŸ“åŠ¨æ€ï¼ˆçº¯DOMï¼Œç»å¯¹ä¸ä¹±ç ï¼‰
const plist = document.getElementById('postList');
posts.forEach(p=>{
  const c = document.createElement('div');
  c.className = 'card';
  c.innerText = p.txt || '';

  if (p.type === 'img' && p.url) {
    const img = document.createElement('img');
    img.src = p.url;
    img.style.width = '100%';
    img.style.borderRadius = '8px';
    img.style.marginTop = '8px';
    c.appendChild(img);
  }
  if (p.type === 'vid' && p.url) {
    const v = document.createElement('video');
    v.src = p.url;
    v.controls = true;
    v.style.width = '100%';
    v.style.marginTop = '8px';
    c.appendChild(v);
  }
  plist.appendChild(c);
});

// ç§ä¿¡
function sendMsg() {
  const t = document.getElementById('msgInput').value.trim();
  if(!t)return;
  messages.push({text:t,time:Date.now()});
  localStorage.setItem('messages',JSON.stringify(messages));
  renderMsg();
  document.getElementById('msgInput').value='';
}
function renderMsg() {
  const l = document.getElementById('msgList');
  l.innerHTML = '';
  messages.forEach(m=>{
    const d = document.createElement('div');
    d.style.background='#fff';
    d.style.borderRadius='12px';
    d.style.padding='10px';
    d.style.marginBottom='8px';
    d.innerText = m.text;
    l.appendChild(d);
  });
}
renderMsg();
</script>
</body>
</html>
